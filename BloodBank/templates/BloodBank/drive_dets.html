<!-- <!DOCTYPE html>
<html>
<head>
    <title>Drive Details</title>
</head>
<body>
    <h1>Donors in {{ drive_name }}</h1>
    <ul>
        {% for donor in donors %}
            <li>{{ donor.Bloodgroup }} - {{ donor.count }}</li>
        {% endfor %}
        {% for donor in donor_list %}
            <li>{{ donor.Name}}-{{ donor.Bloodgroup }}</li>
        {% endfor %}
    </ul>
    <h1><a href="{% url 'register' group_id %}">Add registerations</a></h1>
</body>
</html> -->

<!-- 
<!DOCTYPE html>
<html>
<head>
    <title>Drive Details</title>
</head>
<body>
    <h1>Donors in {{ drive_name }}</h1>
    <ul>
        {% for donor in donors %}
            <li>{{ donor.Bloodgroup }} - {{ donor.count }}</li>
        {% endfor %}
        {% for donor in donor_list %}
            <li>{{ donor.Name}}-{{ donor.Bloodgroup }}</li>
        {% endfor %}
    </ul>
    <h1><a href="{% url 'register' group_id %}">Add registrations</a></h1>
    <div id="pie_chart">
        <canvas id="myPieChart"></canvas>
    </div> -->
    
    <!DOCTYPE html>
    <html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Drive Info - Blood Bank</title>
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
        <style>
            .dropdown-menu {
                display: none;
            }
    
            .dropdown:hover .dropdown-menu {
                display: block;
            }
        </style>
    </head>
    
    <body class="bg-gray-100">
        <header class="bg-red-800 text-white py-4 px-8">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-2xl font-bold">Blood Bank</h1>
                <div class="flex items-center space-x-6">
                    <a href="#" class="text-white hover:text-gray-200">Info</a>
                    <a href="#" class="text-white hover:text-gray-200">About</a>
                    <a href="#" class="text-white hover:text-gray-200">Contact</a>
                    <div class="relative dropdown">
                        <div class="bg-white w-10 h-10 rounded-full flex items-center justify-center cursor-pointer">
                            <i class="fa-solid fa-user text-gray-600 text-lg"></i>
                        </div>
                        <div class="absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg dropdown-menu">
                            <a href="#" class="block py-2 px-4 text-gray-800 hover:bg-gray-200">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>


        <p>
            <a href="{% url 'transfer_to_main' drive_name %}">push to main bank</a>
    
        <div class="container mx-auto px-4 py-8"> 
            <h2 class="text-xl font-semibold mb-4">Drive information for {{drive_name}}</h2>
    
            <!-- Container for backend information -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                <p class="text-gray-700">
                <ul>
                    <!-- {% for donor in donors %}
                        <li>{{ donor.Bloodgroup }} - {{ donor.count }}</li>
                    {% endfor %} -->
                <h3 class="text-lg font-semibold mb-2">Donor List</h3>
                    {% for donor in donor_list %}
                        <li>{{ donor.Name}}:{{ donor.Bloodgroup }}</li>
                    {% endfor %}
                </ul>
            </div>
    
 <!-- Graph display box -->
 <div class="bg-white rounded-lg shadow-md p-6">
    <h3 class="text-lg font-semibold mb-2">Pie chart:</h3>
    <div id="pie_chart">
        <canvas id="myPieChart"></canvas>
    </div>
</div>
</div>

<footer class="bg-red-800 text-white py-4 text-center fixed bottom-0 w-full">
<p>&copy; 2024 Blood Bank. All rights reserved.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var ctx = document.getElementById('myPieChart').getContext('2d');
        var myPieChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: [{% for donor in donors %}"{{ donor.Bloodgroup }}", {% endfor %}],
                datasets: [{
                    data: [{% for donor in donors %}{{ donor.count }}, {% endfor %}],
                    backgroundColor: [
                        'rgba(204, 0, 0, 0.7)',     // Dark Red
                        'rgba(0, 102, 204, 0.7)',   // Darker Blue
                        'rgba(255, 204, 0, 0.7)',   // Yellow
                        'rgba(0, 204, 102, 0.7)',   // Green
                        'rgba(153, 51, 255, 0.7)',  // Purple
                        'rgba(255, 51, 51, 0.7)',   // Crimson
                        'rgba(255, 153, 51, 0.7)',  // Orange
                        'rgba(51, 204, 255, 0.7)'   // Cyan
                        ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                legend: {
                    position: 'right'
                },
                title: {
                    display: true,
                    text: 'Donations by Blood Group'
                }
            }
        });
    });
</script>
</body>
</html>
